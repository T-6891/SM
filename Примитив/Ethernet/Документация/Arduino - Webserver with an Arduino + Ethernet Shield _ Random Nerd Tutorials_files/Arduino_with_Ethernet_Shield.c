if ( 'prettyPrint' in window ) {} else {
    document.write( '<script type="text/javascript" src="http://gist-it.sudarmuthu.com/assets/prettify/prettify.js"></script>' );
}


document.write( '<link rel="stylesheet" href="http://gist-it.sudarmuthu.com/assets/embed.css"/>' );


document.write( '<link rel="stylesheet" href="http://gist-it.sudarmuthu.com/assets/prettify/prettify.css"/>' );

document.write( '<div class="gist-it-gist">\n<div class="gist-file">\n    <div class="gist-data">\n        \n        <pre class="prettyprint">/*\n Created by Rui Santos\n Visit: http://randomnerdtutorials.com for more arduino projects\n\n Arduino with Ethernet Shield\n */\n\n#include &lt;SPI.h&gt;\n#include &lt;Ethernet.h&gt;\n#include &lt;Servo.h&gt; \nint led = 4;\nServo microservo; \nint pos = 0; \nbyte mac[] = { 0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED };   //physical mac address\nbyte ip[] = { 192, 168, 1, 178 };                      // ip in lan (that\'s what you need to use in your browser. ("192.168.1.178")\nbyte gateway[] = { 192, 168, 1, 1 };                   // internet access via router\nbyte subnet[] = { 255, 255, 255, 0 };                  //subnet mask\nEthernetServer server(80);                             //server port     \nString readString;\n\nvoid setup() {\n // Open serial communications and wait for port to open:\n  Serial.begin(9600);\n   while (!Serial) {\n    ; // wait for serial port to connect. Needed for Leonardo only\n  }\n  pinMode(led, OUTPUT);\n  microservo.attach(7);\n  // start the Ethernet connection and the server:\n  Ethernet.begin(mac, ip, gateway, subnet);\n  server.begin();\n  Serial.print("server is at ");\n  Serial.println(Ethernet.localIP());\n}\n\n\nvoid loop() {\n  // Create a client connection\n  EthernetClient client = server.available();\n  if (client) {\n    while (client.connected()) {   \n      if (client.available()) {\n        char c = client.read();\n     \n        //read char by char HTTP request\n        if (readString.length() &lt; 100) {\n          //store characters to string\n          readString += c;\n          //Serial.print(c);\n         }\n\n         //if HTTP request has ended\n         if (c == \'\\n\') {          \n           Serial.println(readString); //print to serial monitor for debuging\n     \n           client.println("HTTP/1.1 200 OK"); //send new page\n           client.println("Content-Type: text/html");\n           client.println();     \n           client.println("&lt;HTML&gt;");\n           client.println("&lt;HEAD&gt;");\n           client.println("&lt;meta name=\'apple-mobile-web-app-capable\' content=\'yes\' /&gt;");\n           client.println("&lt;meta name=\'apple-mobile-web-app-status-bar-style\' content=\'black-translucent\' /&gt;");\n           client.println("&lt;link rel=\'stylesheet\' type=\'text/css\' href=\'http://randomnerdtutorials.com/ethernetcss.css\' /&gt;");\n           client.println("&lt;TITLE&gt;Random Nerd Tutorials Project&lt;/TITLE&gt;");\n           client.println("&lt;/HEAD&gt;");\n           client.println("&lt;BODY&gt;");\n           client.println("&lt;H1&gt;Random Nerd Tutorials Project&lt;/H1&gt;");\n           client.println("&lt;hr /&gt;");\n           client.println("&lt;br /&gt;");  \n           client.println("&lt;H2&gt;Arduino with Ethernet Shield&lt;/H2&gt;");\n           client.println("&lt;br /&gt;");  \n           client.println("&lt;a href=\\"/?button1on\\"\\"&gt;Turn On LED&lt;/a&gt;");\n           client.println("&lt;a href=\\"/?button1off\\"\\"&gt;Turn Off LED&lt;/a&gt;&lt;br /&gt;");   \n           client.println("&lt;br /&gt;");     \n           client.println("&lt;br /&gt;"); \n           client.println("&lt;a href=\\"/?button2on\\"\\"&gt;Rotate Left&lt;/a&gt;");\n           client.println("&lt;a href=\\"/?button2off\\"\\"&gt;Rotate Right&lt;/a&gt;&lt;br /&gt;"); \n           client.println("&lt;p&gt;Created by Rui Santos. Visit http://randomnerdtutorials.com for more projects!&lt;/p&gt;");  \n           client.println("&lt;br /&gt;"); \n           client.println("&lt;/BODY&gt;");\n           client.println("&lt;/HTML&gt;");\n     \n           delay(1);\n           //stopping client\n           client.stop();\n           //controls the Arduino if you press the buttons\n           if (readString.indexOf("?button1on") &gt;0){\n               digitalWrite(led, HIGH);\n           }\n           if (readString.indexOf("?button1off") &gt;0){\n               digitalWrite(led, LOW);\n           }\n           if (readString.indexOf("?button2on") &gt;0){\n                for(pos = 0; pos &lt; 180; pos += 3)  // goes from 0 degrees to 180 degrees \n                {                                  // in steps of 1 degree \n                  microservo.write(pos);              // tell servo to go to position in variable \'pos\' \n                  delay(15);                       // waits 15ms for the servo to reach the position \n                } \n           }\n           if (readString.indexOf("?button2off") &gt;0){\n                for(pos = 180; pos&gt;=1; pos-=3)     // goes from 180 degrees to 0 degrees \n                {                                \n                  microservo.write(pos);              // tell servo to go to position in variable \'pos\' \n                  delay(15);                       // waits 15ms for the servo to reach the position \n                } \n           }\n            //clearing string for next read\n            readString="";  \n           \n         }\n       }\n    }\n}\n}\n\n</pre>\n        \n    </div>\n    \n</div>\n</div>' );

document.write( '<script type="text/javascript">prettyPrint();</script>' );